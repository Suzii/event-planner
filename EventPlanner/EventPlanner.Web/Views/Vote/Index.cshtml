@model EventPlanner.Models.Models.Vote.VoteModel

@{
    ViewBag.Title = "title";
}


@section Scripts {
    @Scripts.Render("https://maps.googleapis.com/maps/api/js")
    @Scripts.Render("~/Scripts/Custom/GoogleMapsModule.js")
}



<div class="row" style="border: 2px;">
    <div class="col-md-8">
        <h2>
            @Model.EventViewModel.Title
            @*TODO: Display glyphicon-pencil redirecting to edit page, when current user is organizer or othersCanEditProperty is true*@
            @if (Model.EventViewModel.OthersCanEdit)
            {
                <span class="small">@Html.ActionLink("Edit", "Index", "Event", new {id = Model.EventViewModel.Id}, new {@class = "glyphicon glyphicon-pencil"})</span>
            }
        </h2>
    </div>
    
    @*TODO: refactor position of text*@
    <div class="col-md-4" style="padding-top: 3em;">
        <span class="text-muted text-right">Created on: @Model.EventViewModel.Created.ToShortDateString()</span>
    </div>
</div>

<div class="row">
    <div class="col-sm-12">
        @Model.EventViewModel.Desc
    </div>
</div>

<div class="row">
    @using (Html.BeginForm("Index", "Vote", FormMethod.Post, new {@class = ""}))
    {

        <div id="placesTable">
            @{Html.RenderPartial("_datesVotes", Model);}
        </div>

        <div id="timesTable">
            @{Html.RenderPartial("_placesVotes", Model);}
        </div>

        <input type="submit" class="btn btn-primary pull-right" value="Submit your votes"/>
    }
</div>

<h3>Cute little map</h3>
<p>Just really felt like adding it and filling the sad blank space...</p>
<p>(CSS is in size.less)</p>
<div class="row map" id="map">
    @*TODO*@
    Dummy placeholder for Google maps module!
    You gotta wait for it, it's gonna be worth it! :P
</div>
